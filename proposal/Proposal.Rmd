---
title: "Project Proposal"
subtitle: "Tidy Team"
output: github_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(here)
library(janitor)
```

## Load Data 

```{r load data}
# still need to upload deaths by risk factor (I am getting an error that says "Unexpected Response from Server, probably because the file is large)

death_rates_total_air_pollution_csv <- read_csv(here("data", "death-rates-total-air-pollution.csv"))
death_rates_from_air_pollution_csv <- read_csv(here("data", "death-rates-from-air-pollution.csv"))
share_deaths_air_pollution_csv <- read_csv(here("data", "share-deaths-air-pollution.csv"))

#added _csv ending to eliminate need for naming later versions "clean"
```

```{r clean datasets}
death_rates_total_air_pollution <- death_rates_total_air_pollution_csv %>%
  clean_names() %>% 
  rename(death_rate_air_pollution = 
           deaths_air_pollution_sex_both_age_age_standardized_rate)

death_rates_from_air_pollution <- death_rates_from_air_pollution_csv %>%
  clean_names() %>% 
  rename(death_rate_air_pollution = 
           deaths_air_pollution_sex_both_age_age_standardized_rate, 
       death_rate_household_pollution = deaths_household_air_pollution_from_solid_fuels_sex_both_age_age_standardized_rate, 
       death_rate_ambient_matter_pollution = deaths_ambient_particulate_matter_pollution_sex_both_age_age_standardized_rate, 
       death_rate_ozone_pollution = 
         deaths_ambient_ozone_pollution_sex_both_age_age_standardized_rate)

#this looks messy but the column names are originally super long 

share_deaths_air_pollution <- share_deaths_air_pollution_csv %>% 
  clean_names() %>% 
  rename(share_death_air_pollution = air_pollution_total_ihme_2019)
```


```{r glimpse data sets}
glimpse(death_rates_total_air_pollution)
glimpse(death_rates_from_air_pollution)
glimpse(share_deaths_air_pollution)
```

## One Sentence High-Level Goal

Create an interactive spatio-temporal visualization of worldwide deaths related to air pollution. 

## Description of our Goals and Motivation 

A one to two paragraph description of your goals, including your motivation. 
- Depending on the focus of your project, the following might go in here.
- If using a particular dataset(s), a brief description of each dataset including the reason why you chose the particular dataset, its dataset, its dimensions and any other relevant metadata. (Make sure to load the data and use inline code for some of this information.)
- If answering a particular research question, the question itself and the reason why you chose this question.

## Weekly Plan of Attack

1. Week 1 of project (week of Mon, Oct 18): Pick a focus for your project.
  + Brainstormed project ideas and pick data (All during Lab). 
  + Ran project idea by Vittorio (All during Lab.)

2. Week 2 of project (week of Mon, Oct 25): Work on developing your project proposal and setting up the structure for your repository.
  + Set up repo structure (Courtney.)
  + Start working on proposal (All assigned out own parts.)

3. Week 3 of project (week of Mon, Nov 1): Finalize your project proposal.
  + **Proposals for peer review: due Fri, Nov 5 at 5pm.**
  + Talk with Professor Cetinkaya-Rundel during office hours to receive semi-approval to begin working on the project. We hope to get started early in anticipation of challenges, and we do not want to be doing this project last minute. (Whoever is available during office hours time.)
  + Ideally, start working on framework for project. Picking which variables to use for the visualization and brainstorming a "draft" visualization. (All of us during weekly meeting)

4. Week 4 of project (week of Mon, Nov 8): Conduct peer review on project proposals, and optionally, submit in an updated version of your proposal.
  + **Revised proposals for instructor review: due Fri, Nov 12 at 5pm**
  + Update proposal (All during weekly meeting). 
  + Research information about creating interactive spatio-temporal visualizations on Shiny. (All.)
  + Organize notes in the Google Doc. (All, while doing research.)
  + Ideally, this step will help us from jumping in blind to the project and will provide us a solid foundation to begin our work on. 

5. Week 5 of project (week of Mon, Nov 15): Continue working on your project.
  + Start coding the spatio-temporal visualization of worldwide deaths related to air pollution. 
  + At this point, we would like to decide if we will need to introduce any other data to our visualization. 

6  Week 6 of project (week of Mon, Nov 22): Continue working on your project.
  + Continue working on the visualization. 
  + If necessary, introduce outside/additional data. 

7  Week 7 of project (week of Mon, Nov 29): Conduct another round of peer review.
  + Ideally, we would like to have the coding part of our project done by the end of this week. That would give us the following week to reflect, make any final touches, and plan for the presentation. 

8. Write-up and presentation: due Fri, Dec 3 at noon (beginning of class).
  + Make any final touches. 
  + Craft presentation. Prepare for in-class presenation on LDOC. 

### Weekly Meeting Date and Time 

We plan to have our scheduled meetings weekly on Wednesdays before lecture. We will decide how early to start before class based on how much work we anticipate needed to get through for the day.

## Repo Organization

The project is organized into 4 main folders: 

* `data`: includes our world air pollution datasets
* `images`: includes any images, logos, and gifs for our Shiny App
* `proposal`: includes our Project 2 proposal files
* `shinyapp`: contains our files that build to the Shiny App. We will include more subfolders into this folder as we build the app as needed

## References 

Below is a list of references we plan to use when creating our project. 

* https://stackoverflow.com/questions/52087675/interactive-shiny-app-with-r-hovering-over-points-and-displaying-info
* https://rviews.rstudio.com/2019/10/09/building-interactive-world-maps-in-shiny/
* https://stackoverflow.com/questions/52087675/interactive-shiny-app-with-r-hovering-over-points-and-displaying-info

## Data Reference 
* https://www.kaggle.com/pavan9065/air-pollution

